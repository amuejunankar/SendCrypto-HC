<!DOCTYPE html>
<html>

<head>
  <title>Send ETH via MetaMask</title>
  <link rel="stylesheet" href="style.css">
  <style>
    /* Center all elements on the page */
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
  </style>
</head>

<body>

  <button class="enableEthereumButton btn">Enable Ethereum</button>
  <input type="text" class="toAddressInput" placeholder="Enter recipient address">
  <button class="sendEthButton btn">Send ETH</button>


  <script>
    const ethereumButton = document.querySelector('.enableEthereumButton');
    const sendEthButton = document.querySelector('.sendEthButton');
    const toAddressInput = document.querySelector('.toAddressInput');

    let accounts = [];

    // Send Ethereum to an address
    sendEthButton.addEventListener('click', () => {
      const toAddress = toAddressInput.value; // Get the recipient address from the input field
      ethereum
        .request({
          method: 'eth_sendTransaction',
          params: [
            {
              from: accounts[0], // The user's active address.
              to: toAddress, // Set the recipient address to the user-entered value.
              value: '0x67476F67C4651B', // Only required to send ether to the recipient from the initiating external account.
            },
          ],
        })
        .then((txHash) => console.log(txHash))
        .catch((error) => console.error(error));
    });

    ethereumButton.addEventListener('click', () => {
      getAccount();
    });

    async function getAccount() {
      accounts = await ethereum.request({ method: 'eth_requestAccounts' });
    }
  </script>
</body>

</html>